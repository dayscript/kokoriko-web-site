<div id="cuenta">
    <!--Hola + Botones de usuario-->
    <div class="row user-container">

        <div class="medium-4 columns">
            <div class="row">
                <div class="small-4 columns">
                    <img src="{{elements.user_picture}}" alt="" class="photo">
                </div>

                <div class="small-8 columns text-align-left">
                    <div class="hi">HOLA</div>
                    <div class="user">{{elements.field_nombres}} {{elements.field_apellidos}}</div>
                </div>
            </div>
        </div>

        <div class="columns medium-7">
            <div class="botones">
                <a href="/" class="button account">¿Cómo funciona?</a>
                <a href="/user/{{elements.id}}/edit" class="button account">Actualizar datos</a>
                <a href="/user/logout" class="button account">Cerrar sesión</a>
            </div>
        </div>
    </div>
    <!--Hola + Botones de usuario-->


    <!--Banner central-->
    <div class="row hide-for-small-only">
        <div class="columns medium-12">
            <img src="/themes/contrib/kokoriko_theme/images/banner-kkp.jpg" alt="" class="banner">
        </div>
    </div>
    <!--Banner central-->

    <!--Estado de cuenta-->
    <div class="row">
        <!--Navegador izquierda-->
        <div class="columns medium-4">
            <div class="container-cuenta">
                <h3>Estado de cuenta</h3>
                <hr>
                <div class="fecha"></div>
                <div>Tienes disponibles</div>

                <div class="kokoripesos">{{incentives?.entity?.points}}</div>
                <img src="/themes/contrib/kokoriko_theme/images/kokoripesos-red.png" alt="" class="text-center">
                <hr>
                <div class="vencidos"><span>10 Kokoripesos </span> por vencer</div>
                <div class="fecha">Septiembre 20 de 2018</div>
                <hr>
                <div class="recent">Ultima redención: <span>{{redemption_last | date}}</span></div>
                <div class="recent">Ultima acumulación: <span>{{invoice_last | date}}</span></div>
            </div>
        </div>
        <!--Navegador izquierda-->

        <!--Tabla derecha-->
        <div class="columns medium-8">

            <ul class="tabs hide-for-small-only" data-tab>
                <li class="tab-title active"><a href="#panel1">Redime tus Kokoripesos</a></li>
                <li class="tab-title"><a href="#panel2">Kokoripesos acumulados</a></li>
                <li class="tab-title"><a href="#panel3">Listado de mis redenciones</a></li>
            </ul>
            <div class="menu-cuenta show-for-small-only">
                <select>
                    <option value="">Redime tus Kokoripesos</option>
                    <option value="">Kokoripesos acumulados</option>
                    <option value="">Listado de mis redenciones</option>
                </select>
            </div>
            <div class="tabs-content">
                <div class="content active" id="panel1">
                    <div class="row text-center">
                       <div class="container-redimir">
                           <div class="medium-12 columns">
                               <div class="redimir">Ingresa el valor que deseas redimir</div>

                               <div class="row">
                                   <div class="medium-12 columns">
                                       <div class="row collapse">
                                           <div class="small-8 medium-10 columns">
                                               <input  [(ngModel)]="redemption_value" type="text" placeholder="Ingrese el monto a redimir">
                                           </div>
                                           <div class="small-4 medium-2 columns">
                                               <a (click)="redemptionPost($event)" class="button postfix">Redimir</a>
                                           </div>
                                       </div>
                                   </div>
                               </div>
                               <div *ngIf="incentives?.status === 200">
                                 <span>Has redimido {{redemption_value}} kokoripesos, y se ha enviado una notificación a tu correo electronico </span>
                               </div>
                               <div *ngIf="errors?.status || errors?.status === 0">
                                 <div [ngSwitch]="errors.status" class="errors">
                                   <span *ngSwitchCase="422">El valor a redimir solo puede contener numeros</span>
                                   <span *ngSwitchCase="401">El numero de kokoripesos a redimir debe ser menor o igual al numero de kokoripesos disponibles.</span>
                                   <span *ngSwitchDefault >No es posible redimir en estos momentos, por favor intentelo mas tarde.</span>
                                 </div>
                               </div>
                               <div class="note">El cupón con el valor redimido será enviado a su correo electrónico</div>
                           </div>
                       </div>
                    </div>
                </div>
                <div class="content" id="panel2">
                    <table border="1" width="100%">
                        <thead>
                        <tr>
                            <th>FECHA FACTURA</th>
                            <th>N° FACTURA</th>
                            <th>RESTAURANTE</th>
                            <th>VR. FACTURA</th>
                            <th>KOKORIPESOS</th>
                        </tr>
                        </thead>
                        <tbody *ngIf="incentives?.entity?.invoices">
                        <tr *ngFor="let invoice of incentives?.entity?.invoices">
                            <td>{{invoice.invoice_date_up}}</td>
                            <td>{{invoice.invoice_code}}</td>
                            <td>{{invoice.restaurant_code}}</td>
                            <td>$ {{invoice.value}}</td>
                            <td>102</td>
                        </tr>
                        <div *ngIf="!incentives?.entity?.invoices">
                           No se han encontrado datos.
                        </div>

                        </tbody>
                    </table>
                </div>
                <div class="content" id="panel3">
                  <table border="1" width="100%">
                      <thead>
                        <tr>
                            <th>FECHA DE REDENCIÓN</th>
                            <th>CÓDIGO</th>
                            <th>VALOR</th>
                        </tr>
                      </thead>
                      <tbody *ngIf="incentives?.entity?.redemptions">
                        <tr *ngFor="let redemption of incentives?.entity?.redemptions">
                            <td>{{redemption.created_at}}</td>
                            <td>{{redemption.token}}</td>
                            <td>$ {{redemption.value}}</td>
                        </tr>
                        <div *ngIf="!incentives?.entity?.invoices">
                           No se han encontrado datos.
                        </div>
                      </tbody>
                  </table>
                </div>
            </div>


        </div>
        <!--Tabla derecha-->
    </div>
    <!--Estado de cuenta-->


</div>
