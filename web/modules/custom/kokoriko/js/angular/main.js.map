{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/accompaniments/accompaniments.component.css","webpack:///./src/app/accompaniments/accompaniments.component.html","webpack:///./src/app/accompaniments/accompaniments.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";","module.exports = \"\"","module.exports = \"<div id=\\\"cuenta\\\">\\n    <!--Hola + Botones de usuario-->\\n    <div class=\\\"row user-container\\\">\\n\\n        <div class=\\\"medium-4 columns\\\">\\n            <div class=\\\"row\\\">\\n                <!--<div class=\\\"small-4 columns\\\">\\n                    <img src=\\\"{{user.user_picture}}\\\" alt=\\\"\\\" class=\\\"photo\\\">\\n                </div>-->\\n\\n                <div class=\\\"small-12 columns text-align-left\\\">\\n                    <div class=\\\"hi\\\">HOLA</div>\\n                    <div class=\\\"user\\\">{{user.field_nombres}} {{user.field_apellidos}}</div>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"columns medium-7\\\">\\n            <div class=\\\"botones\\\">\\n                <a href=\\\"#block-comofunciona\\\" id=\\\"menu-como\\\" class=\\\"button account\\\">¿Cómo funciona?</a>\\n                <a href=\\\"/user/{{user.uid}}/edit\\\" class=\\\"button account\\\">Actualizar datos</a>\\n                <a href=\\\"/user/logout\\\" class=\\\"button account\\\">Cerrar sesión</a>\\n            </div>\\n        </div>\\n    </div>\\n    <!--Hola + Botones de usuario-->\\n\\n\\n    <!--Banner central-->\\n    <div class=\\\"row hide-for-small-only\\\">\\n        <div class=\\\"columns medium-12\\\">\\n            <img src=\\\"/themes/contrib/kokoriko_theme/images/banner-kkp.jpg\\\" alt=\\\"\\\" class=\\\"banner\\\">\\n        </div>\\n    </div>\\n    <!--Banner central-->\\n\\n    <!--Estado de cuenta-->\\n    <div class=\\\"row\\\">\\n        <!--Navegador izquierda-->\\n        <div class=\\\"columns medium-4\\\">\\n            <div class=\\\"container-cuenta\\\">\\n                <h3>Estado de cuenta</h3>\\n                <hr>\\n                <div class=\\\"fecha\\\"></div>\\n                <div>Tienes disponibles</div>\\n\\n                <div *ngIf=\\\"getTotalPoints() else elseKokoripesos\\\" [innerHTML]=getTotalPoints() class=\\\"kokoripesos\\\"> </div>\\n                <ng-template #elseKokoripesos>Cargando...</ng-template>\\n                <img src=\\\"/themes/contrib/kokoriko_theme/images/kokoripesos-red.png\\\" alt=\\\"\\\" class=\\\"text-center\\\">\\n\\n                <hr>\\n                <div *ngIf=\\\"getPointsOvercome() else elseOvercome\\\" [innerHTML]=getPointsOvercome() class=\\\"kokoripesos\\\"> </div>\\n                <ng-template #elseOvercome>--</ng-template>\\n\\n                <div class=\\\"vencidos\\\"><span>{{getPointsOvercome()}} Kokoripesos </span> por vencer</div>\\n                <div class=\\\"fecha\\\"> {{getDate() | date: 'mediumDate'}}</div>\\n                <hr>\\n                <div class=\\\"recent\\\">Ultima redención:   <span>{{ getRedemptionLast() | date}}</span></div>\\n                <div class=\\\"recent\\\">Ultima acumulación: <span>{{ getInvoiceLast()    | date}}</span></div>\\n            </div>\\n        </div>\\n        <!--Navegador izquierda-->\\n\\n        <!--Tabla derecha-->\\n        <div class=\\\"columns medium-8\\\">\\n\\n            <ul class=\\\"tabs hide-for-small-only\\\" data-tab>\\n                <li class=\\\"tab-title active\\\"><a href=\\\"#panel1\\\">Redime tus Kokoripesos</a></li>\\n                <li class=\\\"tab-title\\\"><a href=\\\"#panel2\\\">Kokoripesos acumulados</a></li>\\n                <li class=\\\"tab-title\\\"><a href=\\\"#panel3\\\">Listado de mis redenciones</a></li>\\n            </ul>\\n            <div class=\\\"menu-cuenta show-for-small-only\\\">\\n                <select>\\n                    <option value=\\\"\\\">Redime tus Kokoripesos</option>\\n                    <option value=\\\"\\\">Kokoripesos acumulados</option>\\n                    <option value=\\\"\\\">Listado de mis redenciones</option>\\n                </select>\\n            </div>\\n            <div class=\\\"tabs-content\\\">\\n                <div class=\\\"content active\\\" id=\\\"panel1\\\">\\n                    <div class=\\\"row text-center\\\">\\n                       <div class=\\\"container-redimir\\\">\\n                           <div class=\\\"medium-12 columns\\\">\\n                               <div class=\\\"redimir\\\">Ingresa el monto que deseas redimir</div>\\n\\n                               <div class=\\\"row\\\">\\n                                   <div class=\\\"medium-12 columns\\\">\\n                                       <div class=\\\"row collapse\\\" *ngIf=\\\"getTotalPoints()\\\">\\n                                            <form [formGroup]=\\\"profileForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\n                                              <div class=\\\"small-8 medium-10 columns\\\">\\n                                                <input type=\\\"hidden\\\" formControlName=\\\"entity_id\\\">\\n                                                <input type=\\\"text\\\" formControlName=\\\"value\\\" required placeholder=\\\"Ingrese el monto a redimir\\\">\\n                                              </div>\\n                                              <div class=\\\"small-4 medium-2 columns\\\">\\n                                                <button type=\\\"submit\\\" class=\\\"redemption-submit\\\" [disabled]=\\\"!profileForm.valid\\\">Redimir</button>\\n                                              </div>\\n                                            </form>\\n                                       </div>\\n                                   </div>\\n                               </div>\\n                               <div *ngIf=\\\"incentives?.message\\\">\\n                                     <span class=\\\"message\\\" [innerHTML]=\\\"incentives?.message\\\"></span>\\n                               </div>\\n                               <div *ngIf=\\\"errors\\\">\\n                                     <span class=\\\"error\\\" *ngFor=\\\"let error of errors.value\\\"[innerHTML]=\\\"error\\\"></span>\\n                               </div>\\n                               <div class=\\\"note\\\">El cupón con el valor redimido será enviado a su correo electrónico</div>\\n                           </div>\\n                       </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"content\\\" id=\\\"panel2\\\">\\n                    <table border=\\\"1\\\" width=\\\"100%\\\">\\n                        <thead>\\n                        <tr>\\n                            <th>FECHA FACTURA</th>\\n                            <th>N° FACTURA</th>\\n                            <th>RESTAURANTE</th>\\n                            <th>VR. FACTURA</th>\\n                            <th>KOKORIPESOS</th>\\n                        </tr>\\n                        </thead>\\n                        <tbody *ngIf=\\\"incentives?.invoices\\\">\\n                        <tr *ngFor=\\\"let invoice of incentives?.invoices\\\">\\n                            <td>{{invoice.invoice_date_up}}</td>\\n                            <td>{{invoice.invoice_code}}</td>\\n                            <td>{{invoice.restaurant_code}}</td>\\n                            <td>$ {{invoice.value}}</td>\\n                            <td>102</td>\\n                        </tr>\\n                        <div *ngIf=\\\"!incentives?.invoices\\\">\\n                           No se han encontrado datos.\\n                        </div>\\n\\n                        </tbody>\\n                    </table>\\n                </div>\\n                <div class=\\\"content\\\" id=\\\"panel3\\\">\\n                  <table border=\\\"1\\\" width=\\\"100%\\\">\\n                      <thead>\\n                        <tr>\\n                            <th>FECHA DE REDENCIÓN</th>\\n                            <th>CÓDIGO</th>\\n                            <th>VALOR</th>\\n                        </tr>\\n                      </thead>\\n                      <tbody *ngIf=\\\"incentives?.redemptions\\\">\\n                        <tr *ngFor=\\\"let redemption of incentives?.redemptions\\\">\\n                            <td>{{redemption.created_at}}</td>\\n                            <td>{{redemption.token}}</td>\\n                            <td>$ {{redemption.value}}</td>\\n                        </tr>\\n                        <div *ngIf=\\\"!incentives?.invoices\\\">\\n                           No se han encontrado datos.\\n                        </div>\\n                      </tbody>\\n                  </table>\\n                </div>\\n            </div>\\n\\n\\n        </div>\\n        <!--Tabla derecha-->\\n    </div>\\n    <!--Estado de cuenta-->\\n\\n\\n</div>\\n\"","import { Component, OnInit } from '@angular/core';\nimport { HttpClient, HttpClientModule,HttpHeaders  } from \"@angular/common/http\";\nimport {  FormGroup,FormControl,Validators,FormBuilder } from '@angular/forms';\nimport * as $ from 'jquery';\ndeclare var Drupal: any;\ndeclare var drupalSettings: any;\n\n@Component({\n  selector: 'block-accompaniments',\n  templateUrl: './accompaniments.component.html',\n  styleUrls: ['./accompaniments.component.css']\n})\nexport class AccompanimentsComponent implements OnInit {\n\n  user              : any;\n  incentives        : any;\n  redemption_value  : any;\n  redemption_last   : any;\n  invoice_last      : any;\n  errors            : any;\n  redemption        : any;\n  api               : any;\n  headers           : any;\n  update_entity     = true;\n  profileForm       : any;\n\n  constructor(private http: HttpClient, private fb: FormBuilder) {\n    this.user = drupalSettings.kokoriko.kokorikoJS\n    if(this.user){\n      this.setUserValidator(true);\n    }\n\n    this.api = 'https://incentives.demodayscript.com/api'; //'http://incentives.kokoriko.local:8000/api';//\n    this.errors = null;\n    this.redemption = null;\n    this.redemption_value = 0\n\n\n  }\n\n  public setUser ( user ) {\n    this.user = user;\n\n  }\n\n  public getUser(){\n    return this.user;\n  }\n\n  public setUserValidator(value : boolean){\n    this.user.validator = value;\n  }\n\n  public getUserValidation(){\n    return this.user.validator;\n  }\n\n  public setRedemptionLast( data ){\n    this.redemption_last = data;\n  }\n  public getRedemptionLast(){\n    return this.redemption_last;\n  }\n\n  public setRedemptionValue( data ){\n    this.redemption_value = data;\n  }\n  public getRedemptionValue(){\n    return this.redemption_value\n  }\n\n  public setInvoiceLast( data ){\n    this.invoice_last = data;\n  }\n  public getInvoiceLast(){\n    return this.invoice_last;\n  }\n\n  public setIncentivesApi( data ){\n    this.api = data;\n  }\n\n  public getIncentivesApi(){\n    return this.api;\n  }\n\n  public setIncentives( data ){\n    if( typeof data.entity !== 'undefined'){\n      this.incentives = data.entity;\n    }else{\n      this.incentives = null;\n    }\n\n\n  }\n\n  public getIncentives(){\n    return this.incentives\n  }\n\n  public getTotalPoints(){\n    if( typeof this.incentives !== 'undefined' ){\n      return this.incentives.totalpoints\n    }\n    return false;\n  }\n  public setTotalPoints( value ){\n    this.incentives.totalpoints = value;\n  }\n\n  public getPointsOvercome(){\n    if( typeof this.incentives !== 'undefined' ){\n      return this.incentives.points_overcome.toString();\n    }else{\n      return false;\n    }\n  }\n\n  public setPointsOvercome( value ){\n    this.incentives.points_overcome = value;\n  }\n\n\n  public setHeaders(){\n    const header = {\n        'Accept': 'application/json',\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Access-Control-Allow-Headers': 'Content-Type',\n        'Access-Control-Allow-Methods': 'GET, PUT, PATCH, DELETE, OPTIONS',\n        'Access-Control-Allow-Origin': '*'\n\n      };\n\n    this.headers = new HttpHeaders(header);\n  }\n\n  public getHeaders(){\n    return this.headers;\n  }\n\n\n  ngOnInit() {\n    this.setHeaders();\n    setTimeout( ()=> {\n      this.run();\n\n    }, 500)\n\n\n\n\n  }\n\n\n  public run(){\n    this.setRedemptionValue(0);\n    if( this.getUserValidation() ){\n        this.http.get( this.api + \"/entities/\" + this.user.field_no_identificacion,this.headers)\n              .subscribe(\n                  data => {\n                      this.incentives = data;\n\n                  },\n                  error => {\n                    this.errors = error;\n                    console.log(\"error\", this.errors);\n                  },\n                  ()    => {\n                    this.errors = null;\n                    if(this.incentives.redemptions.length != 0 ){\n                      this.redemption_last = this.incentives.redemptions[this.incentives.redemptions.length - 1].created_at;\n\n                    }\n                    if(this.incentives.invoices.length != 0 ){\n                      this.invoice_last = this.incentives.invoices[this.incentives.invoices.length - 1].created_at;\n                    }\n\n                    this.incentives.points  = (this.incentives.points <= 0) ? 0:this.incentives.points;\n\n                    this.updateEntity();\n                    this.buidForm();\n\n                  }\n              );\n\n      }else{\n        console.error('User data not is valid!', this.user);\n      }\n  }\n\n  public updateEntity(){\n    if(this.update_entity){\n      this.user.zoho_lead_to_contact = 1;\n      this.http.put( this.api +\"/entities/\"+this.incentives.id,this.user,this.headers)\n            .subscribe(\n                data => {\n                    console.log(\"PATCH Request is successful \", data);\n                },\n                error => {\n                    this.errors = error;\n                    console.log(\"error\", this.errors);\n                },\n                () => {\n                  this.run();\n                }\n            );\n      }\n      this.update_entity = false;\n  }\n\n  public onSubmit(){\n    console.log('request: ',this.profileForm.value)\n    this.http.post( this.api +\"/redemptions\",this.profileForm.value,this.headers)\n         .subscribe(\n             data => {\n                 this.redemption = data;\n                 this.errors = null;\n                 },\n             error => {\n                 this.errors = error.error;\n                 console.log(\"error\", this.errors);\n             },\n             ()=>{\n                console.log('response:', this.redemption)\n                 this.run();\n             }\n         );\n    }\n\n  public getDate(){\n    var d = new Date();\n    d.setDate(d.getDate() + 15);\n    return d;\n  }\n\n  public buidForm(){\n\n    this.profileForm = this.fb.group({\n      entity_id:[this.incentives.id\n      ],\n      value: [\n        null,\n        Validators.required,\n      ],\n    });\n  }\n\n\n}\n","import { BrowserModule } from '@angular/platform-browser';\nimport { NgModule } from '@angular/core';\n\nimport { AccompanimentsComponent } from './accompaniments/accompaniments.component';\nimport { AddressesComponent } from './addresses/addresses.component';\nimport { HttpClient, HttpClientModule } from \"@angular/common/http\";\nimport { FormsModule } from '@angular/forms';\n\nimport { ReactiveFormsModule } from '@angular/forms';\n\n\n\n@NgModule({\n  declarations: [\n    AccompanimentsComponent,\n    // AddressesComponent\n  ],\n  imports: [\n    BrowserModule,\n    HttpClientModule,\n    FormsModule,\n    ReactiveFormsModule\n  ],\n  providers: [HttpClient, HttpClientModule],\n  bootstrap: [\n    AccompanimentsComponent,\n    // AddressesComponent\n  ]\n})\nexport class AppModule { }\n","// This file can be replaced during build by using the `fileReplacements` array.\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\n// The list of file replacements can be found in `angular.json`.\n\nexport const environment = {\n  production: false\n};\n\n/*\n * For easier debugging in development mode, you can import the following file\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\n *\n * This import should be commented out in production mode because it will have a negative impact\n * on performance if an error is thrown.\n */\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\n","import { enableProdMode } from '@angular/core';\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\nimport { environment } from './environments/environment';\n\nif (environment.production) {\n  enableProdMode();\n}\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"sourceRoot":""}